<script>
const Store = {
 key: "subs",

 load(){
  return JSON.parse(localStorage.getItem(this.key) || "[]");
 },

 save(data){
  localStorage.setItem(this.key, JSON.stringify(data));
 },

 add(sub){
  const data = this.load();
  data.push(sub);
  this.save(data);
 },

 update(id, patch){
  const data = this.load();
  const i = data.findIndex(s=>s.id===id);
  if(i>-1){
   data[i] = {...data[i], ...patch};
   this.save(data);
  }
 },

 remove(id){
  this.save(this.load().filter(s=>s.id!==id));
 }
};
</script>
